<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Disaster Management Platform</title>
  <style>
    :root {
      --accent: #e63946;
      --accent-dark: #9b2226;
      --secondary: #457b9d;
      --bg: #f9fafb;
      --light: #ffffff;
      --shadow: 0 6px 18px rgba(0,0,0,0.1);
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:"Segoe UI",sans-serif;background:var(--bg);color:#111827;line-height:1.6;overflow-x:hidden;}
    header{
      position:fixed;top:0;left:0;width:100%;
      background:linear-gradient(90deg, #1d3557, #457b9d);
      color:#fff;padding:1rem 2rem;z-index:1000;
      display:flex;align-items:center;justify-content:space-between;
      box-shadow:var(--shadow);
    }
    header h1{font-weight:800;font-size:1.5rem;}
    nav a{margin-left:1rem;color:#fff;text-decoration:none;font-weight:600;transition:0.3s;}
    nav a:hover{color:var(--accent);}
    nav button{margin-left:1rem;}
    
    /* Hero */
    .hero{
      height:100vh;
      background:url('https://images.pexels.com/photos/942560/pexels-photo-942560.jpeg') no-repeat center/cover;
      background-attachment:fixed;
      display:flex;align-items:center;justify-content:center;text-align:center;
      color:#fff;padding:2rem;position:relative;
    }
    .hero::after{
      content:"";position:absolute;inset:0;background:rgba(0,0,0,0.5);
    }
    .hero div{position:relative;z-index:1;}
    .hero h2{font-size:3rem;text-shadow:0 4px 12px rgba(0,0,0,0.7);}
    .hero p{margin:1rem auto;max-width:600px;font-size:1.2rem;color:#f0f0f0;}
    
    /* Buttons */
    .btn{padding:0.8rem 1.5rem;border:none;border-radius:10px;cursor:pointer;font-weight:600;transition:0.3s;}
    .btn-primary{background:var(--accent);color:#fff;}
    .btn-primary:hover{background:var(--accent-dark);transform:scale(1.05);}
    .btn-secondary{background:var(--secondary);color:#fff;}
    .btn-secondary:hover{background:#1d3557;transform:scale(1.05);}
    
    /* Sections */
    section{padding:4rem 2rem;}
    .section-title{text-align:center;margin-bottom:2rem;font-size:2rem;font-weight:800;color:#1d3557;}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.5rem;}
    .card{background:var(--light);padding:1.5rem;border-radius:15px;box-shadow:var(--shadow);transition:0.3s;position:relative;overflow:hidden;}
    .card:hover{transform:translateY(-8px);}
    .card h3{margin-bottom:0.5rem;color:var(--accent);}
    
    /* Parallax */
    .parallax{
      height:60vh;background-attachment:fixed;background-size:cover;background-position:center;
      display:flex;align-items:center;justify-content:center;color:#fff;font-size:2rem;font-weight:800;text-shadow:0 3px 10px rgba(0,0,0,0.7);
    }
    
    /* Dashboard */
    .dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;text-align:center;}
    .stat{background:var(--light);padding:1rem;border-radius:12px;box-shadow:var(--shadow);}
    .stat h2{font-size:2rem;color:var(--accent);}
    
    /* Quiz */
    .quiz-container{text-align:center;max-width:600px;margin:0 auto;}
    .quiz-question{font-size:1.3rem;font-weight:600;margin-bottom:1rem;}
    .quiz-options button{
      width:100%;margin:0.4rem 0;padding:0.8rem;border:1px solid #ddd;border-radius:8px;
      background:#fff;cursor:pointer;transition:0.3s;
    }
    .quiz-options button:hover{background:#f0f0f0;}
    .progress-bar{height:10px;background:#ddd;border-radius:6px;overflow:hidden;margin:1rem 0;}
    .progress{height:100%;background:var(--accent);width:0;transition:width 0.5s;}
    .score-display{font-weight:700;margin-top:1rem;}
    .timer{font-weight:700;color:var(--accent);}
    
    /* Modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;place-items:center;z-index:2000;}
    .modal.open{display:grid;}
    .modal-content{background:#fff;padding:2rem;border-radius:12px;max-width:500px;width:90%;box-shadow:var(--shadow);}
    .modal-content h3{margin-bottom:1rem;}
    
    footer{background:#111;color:#aaa;text-align:center;padding:2rem;}
  </style>
</head>
<body>
  <header>
    <h1>DisasterPrep</h1>
    <nav>
      <a href="#about">About</a>
      <a href="#modules">Modules</a>
      <a href="#dashboard">Dashboard</a>
      <a href="#quiz">Quiz</a>
      <button class="btn btn-secondary" id="login-btn">Login</button>
      <button class="btn btn-primary" onclick="sendBrowserNotification('üö® Earthquake Alert! Drop, Cover, Hold!')">Send Warning</button>
    </nav>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div>
      <h2>Be Prepared, Stay Safe</h2>
      <p>Interactive disaster management training with real-time alerts and virtual drills.</p>
      <button class="btn btn-primary" id="start-drill">Start Drill</button>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <h2 class="section-title">Why Disaster Preparedness?</h2>
    <div class="cards">
      <div class="card"><h3>üåç Awareness</h3><p>Know the risks specific to your region.</p></div>
      <div class="card"><h3>üö® Drills</h3><p>Practice emergency procedures virtually.</p></div>
      <div class="card"><h3>üìä Data</h3><p>Track readiness scores and participation.</p></div>
    </div>
  </section>

  <!-- Parallax -->
  <div class="parallax" style="background-image:url('https://img.freepik.com/premium-photo/emergency-management-background-image-earthquake-disaster-concept_762686-3307.jpg');">
    Earthquake Safety
  </div>

  <!-- Modules -->
  <section id="modules">
    <h2 class="section-title">Learning Modules</h2>
    <div class="cards">
      <div class="card"><h3>Earthquake Basics</h3><button class="btn btn-primary module-btn" data-id="eq">Start</button></div>
      <div class="card"><h3>Flood Safety</h3><button class="btn btn-primary module-btn" data-id="fl">Start</button></div>
      <div class="card"><h3>Fire Response</h3><button class="btn btn-primary module-btn" data-id="fr">Start</button></div>
    </div>
  </section>

  <!-- Dashboard -->
  <section id="dashboard">
    <h2 class="section-title">School Dashboard</h2>
    <div class="dashboard">
      <div class="stat"><h2 id="participants">124</h2><p>Participants</p></div>
      <div class="stat"><h2 id="drills">8</h2><p>Drills Conducted</p></div>
      <div class="stat"><h2 id="readiness">76%</h2><p>Readiness Score</p></div>
    </div>
  </section>

  <!-- Quiz -->
  <section id="quiz">
    <h2 class="section-title">Gamified Quiz</h2>
    <div class="quiz-container">
      <div class="quiz-question" id="quiz-question">Press Start to Begin</div>
      <div class="quiz-options" id="quiz-options"></div>
      <div class="progress-bar"><div class="progress" id="progress"></div></div>
      <div class="timer">‚è≥ Time Left: <span id="timer">0</span>s</div>
      <div class="score-display" id="score-display">Score: 0</div>
      <button class="btn btn-primary" id="start-quiz">Start Quiz</button>
    </div>
  </section>

  <footer>
    ¬© 2025 DisasterPrep ‚Äî Built for Hackathon
  </footer>

  <!-- Modal -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <h3 id="modal-title"></h3>
      <div id="modal-body"></div>
      <button class="btn btn-primary" onclick="closeModal()">Close</button>
    </div>
  </div>

  <script>
    const modal=document.getElementById("modal");
    const title=document.getElementById("modal-title");
    const body=document.getElementById("modal-body");

    function openModule(name,content){
      title.textContent=name;
      body.innerHTML="<p>"+content+"</p>";
      modal.classList.add("open");
    }
    function closeModal(){ modal.classList.remove("open"); }

    document.querySelectorAll(".module-btn").forEach(btn=>{
      btn.addEventListener("click",()=>{
        if(btn.dataset.id==="eq") openModule("Earthquake Basics","Drop, Cover, Hold under sturdy furniture until shaking stops.");
        if(btn.dataset.id==="fl") openModule("Flood Safety","Move to higher ground, avoid basements, prepare emergency kits.");
        if(btn.dataset.id==="fr") openModule("Fire Response","Evacuate calmly, never use elevators, Stop Drop & Roll if clothes catch fire.");
      });
    });

    document.getElementById("start-drill").addEventListener("click",()=>{
      openModule("Drill Simulation","üö® Earthquake Drill Started! Stay calm ‚Üí Drop, Cover, Hold ‚Üí Evacuate when safe.");
      let participants=document.getElementById("participants");
      participants.textContent=Number(participants.textContent)+1;
    });

    document.getElementById("login-btn").addEventListener("click",()=>{
      window.location.href = "login.html";
    });

    function sendBrowserNotification(message) {
      if (Notification.permission === "granted") {
        new Notification("‚ö†Ô∏è Disaster Warning", { body: message });
      } else if (Notification.permission !== "denied") {
        Notification.requestPermission().then(permission => {
          if (permission === "granted") {
            new Notification("‚ö†Ô∏è Disaster Warning", { body: message });
          }
        });
      }
    }

    // Quiz Logic
    const quizData = [
      {q:"During an earthquake, what should you do?", opts:["Run outside","Drop, Cover, Hold","Stand in doorway"], correct:1},
      {q:"Best place during a flood?", opts:["Basement","Top floor","Ground floor"], correct:1},
      {q:"If clothes catch fire, what to do?", opts:["Run","Stop, Drop & Roll","Jump in water"], correct:1},
      {q:"What to do in a fire?", opts:["Use elevators","Stay calm and evacuate","Hide under bed"], correct:1},
      {q:"Emergency number in most countries?", opts:["911","202","808"], correct:0}
    ];

    let current=0, score=0, timerInterval;

    function loadQuestion(){
      if(current >= quizData.length){
        document.getElementById("quiz-question").textContent="üéâ Quiz Completed!";
        document.getElementById("quiz-options").innerHTML="";
        document.getElementById("score-display").textContent="Final Score: "+score+"/"+quizData.length;
        document.getElementById("progress").style.width="100%";
        clearInterval(timerInterval);
        return;
      }
      const q=quizData[current];
      document.getElementById("quiz-question").textContent=q.q;
      let optionsHTML="";
      q.opts.forEach((opt,i)=>{
        optionsHTML+=`<button onclick="checkAnswer(${i})">${opt}</button>`;
      });
      document.getElementById("quiz-options").innerHTML=optionsHTML;
      document.getElementById("progress").style.width=((current)/quizData.length*100)+"%";
      startTimer();
    }

    function checkAnswer(i){
      if(i===quizData[current].correct){
        score++; alert("‚úÖ Correct!");
      }else{
        alert("‚ùå Wrong! Correct answer: "+quizData[current].opts[quizData[current].correct]);
      }
      current++;
      document.getElementById("score-display").textContent="Score: "+score;
      loadQuestion();
    }

    function startTimer(){
      let time=15;
      document.getElementById("timer").textContent=time;
      clearInterval(timerInterval);
      timerInterval=setInterval(()=>{
        time--;
        document.getElementById("timer").textContent=time;
        if(time<=0){clearInterval(timerInterval);alert("‚è≥ Time's up!");current++;loadQuestion();}
      },1000);
    }

    document.getElementById("start-quiz").addEventListener("click",()=>{
      current=0;score=0;
      document.getElementById("score-display").textContent="Score: 0";
      loadQuestion();
    });
  </script>
</body>
</html>
